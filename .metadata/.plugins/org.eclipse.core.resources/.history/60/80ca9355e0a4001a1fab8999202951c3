[comment encoding = UTF-8 /]
[module generateWebDev('https://www.WebDevProjectMM.com')]


[template public generatePackage(aWebSite : WebSite)]
[comment @main/]
[for (role : Role | aWebSite.roles)]
	[for (roleWebPage : WebPage | role.webpage)]
[generateWebPage()/]
	[/for]
[/for]

[/template]


[comment Polimorfic templates/]
[template public generateAbstractWebPage(roleWebPage : WebPage)]
[for (pageLink : PageLink | roleWebPage.outgoing)]
[file (pageLink.target.name+'.html', false, 'UTF-8')]
<html>
	<body>
		[if (pageLink.target.elements->size() >= 1)]
		[generateElements(pageLink.target)/]
		[/if]
		[generateAbstractWebPage(pageLink.target)/]
		[if (pageLink.target.socialnetworkcontent->size() >= 1)]
		[generateSocialNetworks(pageLink.target)/]
		[/if]
	</body>
</html>	
[/file]
[/for]
[/template]




[template public generateWebPage(crudPage : CRUDPage) ?(true)]
<h1>CRUD</h1>
[/template]



[template public generateWebPage(regularContentPage : RegularContentPage) ?(true)]
<h1>HOLA</h1>
[/template]



[template public generateWebPage(formPage : Form) ?(true)]
<h1>FORM</h1>
[/template]


[comment Elements and social networks for each web page/]
[template public generateElements(webPage : WebPage)]
[/template]



[template public generateSocialNetworks(webPage : WebPage)]
<footer>
	[for (socialNetwork : SocialNetworkContent | webPage.socialnetworkcontent )]
	[if (socialNetwork.socialNetworkType = SocialNetwork_Type::TWITTER)]
	<a class="twitter-timeline" data-width="220" data-height="600" href="[socialNetwork.parameters/]">Tweets</a> 
	<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 
	[elseif (socialNetwork.socialNetworkType = SocialNetwork_Type::RSS)]
	<a type="application/rss+xml" href="https://ww.xul.fr/rss.xml"> 
    RSS feed for this site
	</a>
	[/if]
	[/for]
</footer>
[/template]