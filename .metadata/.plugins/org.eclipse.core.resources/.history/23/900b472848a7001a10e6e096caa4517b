[comment encoding = UTF-8 /] [module generateDocumentation
('http://www.eclipse.org/emf/2002/Ecore')]

[template public generateElement(anEPackage : EPackage)] 
[comment @main/]
[file ('DocumentationOfMetaModel.html', false, 'UTF-8')] 
<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Documentation of the WebDev Metamodel</title>
	<meta name="description" content="WebDev Documentation">
	<link rel="stylesheet" href="css/styles.css?v=1.0">
</head>
<body>
	<span style="font-family:calibri; color: black">
	[generateAnnotations(anEPackage)/]
	<img src="../../figures/class_diagram.svg" border="1" alt="WebDevMM" height="400"/>
	[generateProperties(anEPackage)/]
	<span style="background-color:LightGoldenRodYellow">EClass: [anEPackage.name/]</span>
	<ul>
	</ul>
	[for(class : EClassifier| anEPackage.eClassifiers)]
	[class.eClass().name/]: [class.name/]
	[generateAnnotations(class)/]
	[generateProperties(class)/]
	[/for]
</body>

[/file] [/template]

[template public generateAnnotations (anEPackage : EPackage)]
[for(dict : EStringToStringMapEntry | anEPackage.getEAnnotation('MyDSLDoc').details)]
<p>[dict.key.toUpperFirst()/]: [dict.value.toUpperFirst()/]</p>
[/for]
[/template]

[template public generateProperties (anEPackage : EPackage)]
[for(anAttribute : EAttribute | anEPackage.eClass().eAllAttributes)]
<p>[anAttribute.name.toUpperFirst()/]: [anEPackage.eGet(anAttribute.name)/]</p>
[/for]
[/template]

[template public generateAnnotations (aClass : EClassifier)]
[for(dict : EStringToStringMapEntry | aClass.getEAnnotation('MyDSLDoc').details)]
<p>[dict.key.toUpperFirst()/]: [dict.value.toUpperFirst()/]</p>
[/for]
[/template]

[template public generateProperties (aClass : EClassifier) ? (aClass.oclIsKindOf(EClass))]
[for(anAttribute : EAttribute | aClass.oclAsType(EClass).eAllAttributes)]
<li>([anAttribute.lowerBound/]..[if(anAttribute.upperBound = -1)]*[else][anAttribute.upperBound/][/if]) <b>[anAttribute.name/]</b>: [anAttribute.eAttributeType.name/]</li>
[/for]
[/template]

[template public generateProperties (aClass : EEnum) ? (aClass.oclIsKindOf(EEnum))]
[for(num : EEnumLiteral| aClass.eLiterals) before('{') separator(', ') after('}')]
[num.value/]: [num.literal/]
[/for]<br>
[/template]